<div fxLayout="column" class="page-layout blank p-24" fusePerfectScrollbar>

	<mat-card>
		<mat-card-title>
			Create cart
		</mat-card-title>
		<mat-card-content>
			<p>
				To add vehicles to your cart, you first have to create a new cart.
			</p>
			<mat-divider></mat-divider>
			<br>

			<table class="form-full-width">
				<tr>
					<td>
						Create a new cart rent:
					</td>
				</tr>
				<tr>
					<td>
						<button mat-raised-button color="primary" [disabled]="cartCreated" (click)="createNewCartRent()">
							Create new cart rent
						</button>
					</td>
				</tr>
			</table>

		</mat-card-content>
	</mat-card>

	<br>

	<div *ngIf="cartCreated">
		<mat-card>
			<mat-card-title>
				Cart
			</mat-card-title>
			<mat-card-content>
				<p>
					Here you can see all the vehicles that you have added to the cart.
				</p>
				<mat-divider></mat-divider>
				<br>
	
				<table mat-table [dataSource]="cartVehiclesDataSource" class="mat-elevation-z8">
	
					<ng-container matColumnDef="brand">
						<th mat-header-cell *matHeaderCellDef> Brand </th>
						<td mat-cell *matCellDef="let element"> {{element.brand}} </td>
					</ng-container>
				
					<ng-container matColumnDef="model">
						<th mat-header-cell *matHeaderCellDef> Model </th>
						<td mat-cell *matCellDef="let element"> {{element.model}} </td>
					</ng-container>
					
					<ng-container matColumnDef="price">
						<th mat-header-cell *matHeaderCellDef> Price </th>
						<td mat-cell *matCellDef="let element"> {{element.price}} </td>
					</ng-container>
				
					<ng-container matColumnDef="travelledMileage">
						<th mat-header-cell *matHeaderCellDef> Travelled mileage </th>
						<td mat-cell *matCellDef="let element"> {{element.travelledMileage}} </td>
					</ng-container>
				
					<ng-container matColumnDef="plannedMileageToTravel">
						<th mat-header-cell *matHeaderCellDef> Planned mileage to travel </th>
						<td mat-cell *matCellDef="let element"> {{element.plannedMileageToTravel}} </td>
					</ng-container>
				
					<ng-container matColumnDef="isMileageUnlimited">
						<th mat-header-cell *matHeaderCellDef> Is mileage unlimited? </th>
						<td mat-cell *matCellDef="let element"> {{element.isMileageUnlimited}} </td>
					</ng-container>
				
					<ng-container matColumnDef="hasCollisionDamageWaiver">
						<th mat-header-cell *matHeaderCellDef> Has collision damage waiver? </th>
						<td mat-cell *matCellDef="let element"> {{element.hasCollisionDamageWaiver}} </td>
					</ng-container>
				
					<ng-container matColumnDef="numberOfSeats">
						<th mat-header-cell *matHeaderCellDef> Number of seats </th>
						<td mat-cell *matCellDef="let element"> {{element.numberOfSeats}} </td>
					</ng-container>
				
					<ng-container matColumnDef="grade">
						<th mat-header-cell *matHeaderCellDef> Grade </th>
						<td mat-cell *matCellDef="let element"> {{element.grade}} </td>
					</ng-container>
				
					<ng-container matColumnDef="available">
						<th mat-header-cell *matHeaderCellDef> Available </th>
						<td mat-cell *matCellDef="let element"> {{element.available}} </td>
					</ng-container>
				
					<ng-container matColumnDef="vehicleDiscount">
						<th mat-header-cell *matHeaderCellDef> Vehicle discount </th>
						<td mat-cell *matCellDef="let element"> {{element.vehicleDiscount}} </td>
					</ng-container>
				
					<ng-container matColumnDef="insurancePrice">
						<th mat-header-cell *matHeaderCellDef> Insurance price </th>
						<td mat-cell *matCellDef="let element"> {{element.insurancePrice}} </td>
					</ng-container>
				
					<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
					<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
	
				</table>
	
			</mat-card-content>
		</mat-card>

		<br>

		<mat-card>
			<mat-card-title>
				Make request to rent
			</mat-card-title>
			<mat-card-content>
				<p>
					Here you can broadcast the request to rent all of the vehicles from your cart.
				</p>
				<mat-divider></mat-divider>
				<br>
				<form fxLayout="column" [formGroup]="createRequestToRentFromCartForm">

					<table class="form-full-width">
						<tr>
							<td>
								<mat-form-field appearance="outline" fxFlex="50">
									<mat-label>Rent from</mat-label>
									<input matInput [matDatepicker]="pickerFrom" formControlName="rentFrom" required>
									<mat-datepicker-toggle matSuffix [for]="pickerFrom"></mat-datepicker-toggle>
									<mat-datepicker #pickerFrom></mat-datepicker>
									<mat-error
										*ngIf="createRequestToRentFromCartForm.get('rentFrom').errors && createRequestToRentFromCartForm.get('rentFrom').errors['required']">
										Rent from is required.
									</mat-error>
								</mat-form-field>
							</td>
						</tr>
						<tr>
							<td>
								<mat-form-field appearance="outline" fxFlex="50">
									<mat-label>Rent to</mat-label>
									<input matInput [matDatepicker]="pickerTo" formControlName="rentTo" required>
									<mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
									<mat-datepicker #pickerTo></mat-datepicker>
									<mat-error
										*ngIf="createRequestToRentFromCartForm.get('rentTo').errors && createRequestToRentFromCartForm.get('rentTo').errors['required']">
										Pickup to is required.
									</mat-error>
								</mat-form-field>
							</td>
						</tr>
						<tr>
							<td>
								<button mat-raised-button color="primary" (click)="createRequestToRent()">
									Create request to rent
								</button>
							</td>
						</tr>
					</table>

				</form>
			</mat-card-content>
		</mat-card>
	</div>

</div>